// start JavaScript Code Segment 3 of 15, original lines 21-30 (continued - unbalanced braces)
// end Input Modifier Block 2
// start Input Modifier Block 3
// start sub-block 3 (positive/negative keywords)
    function detectSentiment(text) {
      const positiveKeywords = ['love', 'happy', 'kiss', 'embrace', 'joy', 'excited', 'affection', 'tender', 'warm', 'like', 'enjoy', 'smile', 'care', 'hold', 'laugh', 'hug', 'blush', 'friend']; // Expanded for better romance detection
      const negativeKeywords = ['regret', 'sad', 'hurt', 'betray', 'pain', 'lonely', 'reject', 'despair', 'fear', 'angry', 'avoid', 'cry', 'ignore', 'tears', 'hate', 'fight']; // Expanded for nuanced regrets
// end sub-block 3
// end Input Modifier Block 3
// start Input Modifier Block 4
// start sub-block 4 (sentiment logic)
// end JavaScript Code Segment 3 of 15