// start sub-block 3 (positive/negative keywords)
    function detectSentiment(text) {
      const positiveKeywords = ['love', 'happy', 'kiss', 'embrace', 'joy', 'excited', 'affection', 'tender', 'warm', 'like', 'enjoy', 'smile', 'care', 'hold', 'laugh', 'hug', 'blush', 'friend']; // Expanded for better romance detection
      const negativeKeywords = ['regret', 'sad', 'hurt', 'betray', 'pain', 'lonely', 'reject', 'despair', 'fear', 'angry', 'avoid', 'cry', 'ignore', 'tears', 'hate', 'fight']; // Expanded for nuanced regrets
// end sub-block 3
